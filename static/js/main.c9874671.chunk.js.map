{"version":3,"sources":["img/logo.svg","components/Photo.jsx","components/Loader.jsx","app/App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","Loader","App","clientID","process","useState","loading","setLoading","photos","setPhotos","query","setQuery","page","setPage","fetchImages","a","urlPage","perPage","urlQuery","url","fetch","response","json","data","oldPhotos","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","Logo","type","placeholder","value","onChange","e","target","onClick","preventDefault","map","image","index","ReactDOM","render","StrictMode","getElementById"],"mappings":"wPAAe,MAA0B,iC,eCE1B,SAASA,EAAT,GASX,IARKC,EAQN,EARFC,KAAQD,QACRE,EAOE,EAPFA,gBACAC,EAME,EANFA,MAME,IALFC,KACCC,EAIC,EAJDA,KACAC,EAGC,EAHDA,cACiBC,EAEhB,EAFDC,cAAiBD,OAGlB,OACC,0BAASE,UAAU,QAAnB,UACC,qBAAKC,IAAKV,EAASW,IAAKT,IACxB,sBAAKO,UAAU,aAAf,UACC,gCACC,6BAAKJ,IACL,8BAAIF,EAAJ,eAED,mBAAGS,KAAMN,EAAT,SACC,qBAAKI,IAAKH,EAAQI,IAAI,GAAGF,UAAU,qBCnBzB,SAASI,IACrB,OACD,sBAAKJ,UAAU,oBAAf,UACC,qBAAKA,UAAU,kBACT,wDCAM,SAASK,IAEvB,IAAMC,EAAQ,qBAAiBC,+CAFF,EAMCC,oBAAS,GANV,mBAMtBC,EANsB,KAMbC,EANa,OAODF,mBAAS,IAPR,mBAOtBG,EAPsB,KAOdC,EAPc,OAQHJ,mBAAS,IARN,mBAQtBK,EARsB,KAQfC,EARe,OASLN,mBAAS,GATJ,mBAStBO,EATsB,KAShBC,EATgB,KAYvBC,EAAW,uCAAG,sCAAAC,EAAA,6DACnBR,GAAW,GACLS,EAFa,gBAEMJ,GACnBK,EAHa,eAIbC,EAJa,iBAIQR,GAI1BS,EADGT,EACA,UAhBU,2CAgBV,OAAkBP,GAAlB,OAA6Ba,GAA7B,OAAuCC,GAAvC,OAAiDC,GAEjD,UAnBQ,oCAmBR,OAAgBf,GAAhB,OAA2Ba,GAA3B,OAAqCC,GAVtB,kBAcKG,MAAMD,GAdX,cAcZE,EAdY,iBAeCA,EAASC,OAfV,QAeZC,EAfY,OAiBlBd,GAAU,SAAAe,GACT,OAAId,GAAkB,IAATE,EACLW,EAAKE,QAEN,GAAN,mBAAWD,GADDd,EACV,YAAyBa,EAAKE,SAE9B,YAAyBF,OAG3BhB,GAAW,GA1BO,kDA6BlBA,GAAW,GACXmB,QAAQC,IAAR,MA9BkB,0DAAH,qDA6DjB,OArBAC,qBAAU,WACTd,MAEE,CAACF,IAEJgB,qBAAU,WACT,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,aAE5CzB,GAAWwB,OAAOE,YAAcF,OAAOG,UACzCC,SAASC,KAAKC,cAEdvB,GAAQ,SAAAwB,GACP,OAAOA,EAAU,QAKpB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAEhD,IAGF,uBAAMhC,UAAU,MAAhB,UACC,yBAAQA,UAAU,aAAlB,UACC,qBAAKC,IAAKyC,EAAM1C,UAAU,WAAWE,IAAI,SACzC,sDACA,uBAAMF,UAAU,cAAhB,UACC,uBACC2C,KAAK,OACLC,YAAY,SACZC,MAAOhC,EACPiC,SAAU,SAAAC,GAAC,OAAIjC,EAASiC,EAAEC,OAAOH,QACjC7C,UAAU,eAEX,wBACC2C,KAAK,SACL3C,UAAU,aACViD,QA3CgB,SAAAF,GACpBA,EAAEG,iBACFlC,EAAQ,GACRC,KAqCG,SAKC,cAAC,IAAD,YAIH,0BAASjB,UAAU,SAAnB,UACC,qBAAKA,UAAU,gBAAf,SACEW,EAAOwC,KAAI,SAACC,EAAOC,GACnB,OAAO,cAAC/D,EAAD,eAAuB8D,GAAXC,QAGpB5C,GAAW,cAACL,EAAD,UCtGhBkD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACnD,EAAD,MAEFgC,SAASoB,eAAe,W","file":"static/js/main.c9874671.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\r\n\r\nexport default function Photo({\r\n\turls: { regular },\r\n\talt_description,\r\n\tlikes,\r\n\tuser: {\r\n\t\tname,\r\n\t\tportfolio_url,\r\n\t\tprofile_image: { medium },\r\n\t},\r\n}) {\r\n\treturn (\r\n\t\t<article className='photo'>\r\n\t\t\t<img src={regular} alt={alt_description} />\r\n\t\t\t<div className='photo-info'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h4>{name}</h4>\r\n\t\t\t\t\t<p>{likes} likes</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a href={portfolio_url}>\r\n\t\t\t\t\t<img src={medium} alt='' className='user-img' />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Loader() {\r\n   return (\r\n\t\t<div className='container loading'>\r\n\t\t\t<div className='lds-dual-ring'></div>\r\n         <h4>L o a d i n g . . .</h4>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Logo from './../img/logo.svg';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Photo from './../components/Photo';\r\nimport Loader from './../components/Loader';\r\n\r\nexport default function App() {\r\n\t//**************** variables ****************//\r\n\tconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\r\n\tconst mainUrl = `https://api.unsplash.com/photos/`;\r\n\tconst searchUrl = `https://api.unsplash.com/search/photos/`;\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [photos, setPhotos] = useState([]);\r\n\tconst [query, setQuery] = useState('');\r\n\tconst [page, setPage] = useState(1);\r\n\r\n\t//**************** functions ****************//\r\n\tconst fetchImages = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst urlPage = `&page=${page}`;\r\n\t\tconst perPage = `&per_page=12`;\r\n\t\tconst urlQuery = `&query=${query}`;\r\n\t\tlet url;\r\n\r\n\t\tif (query) {\r\n\t\t\turl = `${searchUrl}${clientID}${urlPage}${perPage}${urlQuery}`;\r\n\t\t} else {\r\n\t\t\turl = `${mainUrl}${clientID}${urlPage}${perPage}`;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url);\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tsetPhotos(oldPhotos => {\r\n\t\t\t\tif (query && page === 1) {\r\n\t\t\t\t\treturn data.results;\r\n\t\t\t\t} else if (query) {\r\n\t\t\t\t\treturn [...oldPhotos, ...data.results];\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn [...oldPhotos, ...data];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tsetPage(1);\r\n\t\tfetchImages();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchImages();\r\n\t\t// eslint-disable-next-line\r\n\t}, [page]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst event = window.addEventListener('scroll', () => {\r\n\t\t\tif (\r\n\t\t\t\t(!loading && window.innerHeight + window.scrollY) >=\r\n\t\t\t\tdocument.body.scrollHeight\r\n\t\t\t) {\r\n\t\t\t\tsetPage(oldPage => {\r\n\t\t\t\t\treturn oldPage + 1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn () => window.removeEventListener('scroll', event);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<main className='app'>\r\n\t\t\t<header className='app-header'>\r\n\t\t\t\t<img src={Logo} className='app-logo' alt='logo' />\r\n\t\t\t\t<h3>ReactJS Stock Photos</h3>\r\n\t\t\t\t<form className='search-form'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='search'\r\n\t\t\t\t\t\tvalue={query}\r\n\t\t\t\t\t\tonChange={e => setQuery(e.target.value)}\r\n\t\t\t\t\t\tclassName='form-input'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tclassName='submit-btn'\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FaSearch />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t\t<section className='photos'>\r\n\t\t\t\t<div className='photos-center'>\r\n\t\t\t\t\t{photos.map((image, index) => {\r\n\t\t\t\t\t\treturn <Photo key={index} {...image} />;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './app/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}